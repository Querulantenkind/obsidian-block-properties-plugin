/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BlockPropertiesPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/editor-extension.ts
var import_state = require("@codemirror/state");
var import_view = require("@codemirror/view");

// src/parser.ts
var BLOCK_PROPS_REGEX = /\^([\w-]+)\s*\[([^\]]+)\]/g;
function parseBlockProperties(text, offset = 0) {
  const results = [];
  let match;
  BLOCK_PROPS_REGEX.lastIndex = 0;
  while ((match = BLOCK_PROPS_REGEX.exec(text)) !== null) {
    const blockId = match[1];
    const propsString = match[2];
    if (!blockId || !propsString) continue;
    const properties = parsePropertiesString(propsString);
    results.push({
      blockId,
      properties,
      from: offset + match.index,
      to: offset + match.index + match[0].length
    });
  }
  return results;
}
function parsePropertiesString(propsString) {
  const properties = [];
  const pairs = propsString.split(",");
  for (const pair of pairs) {
    const colonIndex = pair.indexOf(":");
    if (colonIndex === -1) continue;
    const key = pair.slice(0, colonIndex).trim();
    const value = pair.slice(colonIndex + 1).trim();
    if (key) {
      properties.push({ key, value });
    }
  }
  return properties;
}

// src/editor-extension.ts
var propertyDecoration = import_view.Decoration.mark({
  class: "block-property"
});
var BadgeWidget = class extends import_view.WidgetType {
  constructor(blockId, properties) {
    super();
    this.blockId = blockId;
    this.properties = properties;
  }
  toDOM() {
    const badge = document.createElement("span");
    badge.className = "block-property-badge";
    badge.setAttribute("data-block-id", this.blockId);
    badge.setAttribute("data-properties", JSON.stringify(this.properties));
    const count = this.properties.length;
    badge.textContent = `${count}`;
    badge.title = this.properties.map((p) => `${p.key}: ${p.value}`).join(", ");
    return badge;
  }
  eq(other) {
    return this.blockId === other.blockId && JSON.stringify(this.properties) === JSON.stringify(other.properties);
  }
};
function createViewPlugin(displayMode) {
  class BlockPropertiesViewPlugin {
    constructor(view) {
      this.decorations = this.buildDecorations(view);
    }
    update(update) {
      if (update.docChanged || update.viewportChanged) {
        this.decorations = this.buildDecorations(update.view);
      }
    }
    destroy() {
    }
    buildDecorations(view) {
      const builder = new import_state.RangeSetBuilder();
      for (const { from, to } of view.visibleRanges) {
        const text = view.state.doc.sliceString(from, to);
        const blockProps = parseBlockProperties(text, from);
        for (const prop of blockProps) {
          const fullText = view.state.doc.sliceString(prop.from, prop.to);
          const bracketStart = fullText.indexOf("[");
          if (bracketStart !== -1) {
            const decorFrom = prop.from + bracketStart;
            const decorTo = prop.to;
            if (displayMode === "badge") {
              const widget = new BadgeWidget(prop.blockId, prop.properties);
              builder.add(
                decorFrom,
                decorTo,
                import_view.Decoration.replace({ widget })
              );
            } else {
              builder.add(decorFrom, decorTo, propertyDecoration);
            }
          }
        }
      }
      return builder.finish();
    }
  }
  return import_view.ViewPlugin.fromClass(BlockPropertiesViewPlugin, {
    decorations: (v) => v.decorations
  });
}
var blockPropertiesTooltip = (0, import_view.hoverTooltip)(
  (view, pos) => {
    const line = view.state.doc.lineAt(pos);
    const lineText = line.text;
    const lineStart = line.from;
    const blockProps = parseBlockProperties(lineText, lineStart);
    for (const prop of blockProps) {
      const fullText = view.state.doc.sliceString(prop.from, prop.to);
      const bracketStart = fullText.indexOf("[");
      if (bracketStart !== -1) {
        const tooltipFrom = prop.from + bracketStart;
        const tooltipTo = prop.to;
        if (pos >= tooltipFrom && pos <= tooltipTo) {
          return {
            pos: tooltipFrom,
            above: true,
            create() {
              const dom = document.createElement("div");
              dom.className = "block-properties-tooltip";
              const header = document.createElement("div");
              header.className = "block-properties-tooltip-header";
              header.textContent = `^${prop.blockId}`;
              dom.appendChild(header);
              const list = document.createElement("div");
              list.className = "block-properties-tooltip-list";
              for (const p of prop.properties) {
                const item = document.createElement("div");
                item.className = "block-properties-tooltip-item";
                const key = document.createElement("span");
                key.className = "block-properties-tooltip-key";
                key.textContent = p.key;
                const value = document.createElement("span");
                value.className = "block-properties-tooltip-value";
                value.textContent = p.value;
                item.appendChild(key);
                item.appendChild(value);
                list.appendChild(item);
              }
              dom.appendChild(list);
              return { dom };
            }
          };
        }
      }
    }
    return null;
  }
);
function createBlockPropertiesExtension(displayMode) {
  return [createViewPlugin(displayMode), blockPropertiesTooltip];
}

// src/panel.ts
var import_obsidian = require("obsidian");
var PANEL_VIEW_TYPE = "block-properties-panel";
var PropertyPanelView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.currentFile = null;
    this.plugin = plugin;
  }
  getViewType() {
    return PANEL_VIEW_TYPE;
  }
  getDisplayText() {
    return "Block Properties";
  }
  getIcon() {
    return "tag";
  }
  async onOpen() {
    this.renderPanel();
  }
  async onClose() {
  }
  async updateForFile(file) {
    this.currentFile = file;
    this.renderPanel();
  }
  async renderPanel() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("block-properties-panel");
    const header = container.createEl("div", {
      cls: "block-properties-panel-header"
    });
    if (!this.currentFile) {
      header.createEl("h4", { text: "Block Properties" });
      container.createEl("p", {
        text: "No file open",
        cls: "block-properties-panel-empty"
      });
      return;
    }
    header.createEl("h4", { text: this.currentFile.basename });
    const content = await this.app.vault.cachedRead(this.currentFile);
    const blocks = this.extractBlocks(content);
    if (blocks.length === 0) {
      container.createEl("p", {
        text: "No block properties found",
        cls: "block-properties-panel-empty"
      });
      return;
    }
    const countEl = container.createEl("p", {
      cls: "block-properties-panel-count"
    });
    countEl.textContent = `${blocks.length} block(s) with properties`;
    const list = container.createEl("div", {
      cls: "block-properties-panel-list"
    });
    for (const block of blocks) {
      const item = list.createEl("div", {
        cls: "block-properties-panel-item"
      });
      const itemHeader = item.createEl("div", {
        cls: "block-properties-panel-item-header"
      });
      const blockLink = itemHeader.createEl("a", {
        text: `^${block.blockId}`,
        cls: "block-properties-panel-link"
      });
      blockLink.addEventListener("click", () => {
        this.navigateToBlock(block.line);
      });
      if (block.context) {
        itemHeader.createEl("span", {
          text: block.context,
          cls: "block-properties-panel-context"
        });
      }
      const props = item.createEl("div", {
        cls: "block-properties-panel-props"
      });
      for (const p of block.properties) {
        const propEl = props.createEl("div", {
          cls: "block-properties-panel-prop"
        });
        propEl.createEl("span", {
          text: p.key,
          cls: "block-properties-panel-key"
        });
        propEl.createEl("span", {
          text: p.value,
          cls: "block-properties-panel-value"
        });
      }
    }
    const summary = container.createEl("div", {
      cls: "block-properties-panel-summary"
    });
    summary.createEl("h5", { text: "Summary" });
    const keyCount = this.countKeys(blocks);
    const summaryList = summary.createEl("div", {
      cls: "block-properties-panel-summary-list"
    });
    for (const [key, count] of Object.entries(keyCount)) {
      const summaryItem = summaryList.createEl("div", {
        cls: "block-properties-panel-summary-item"
      });
      summaryItem.createEl("span", {
        text: key,
        cls: "block-properties-panel-summary-key"
      });
      summaryItem.createEl("span", {
        text: `${count}`,
        cls: "block-properties-panel-summary-count"
      });
    }
  }
  extractBlocks(content) {
    const blocks = [];
    const lines = content.split("\n");
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const props = parseBlockProperties(line);
      for (const prop of props) {
        const context = line.slice(0, prop.from).trim().slice(0, 40);
        blocks.push({
          blockId: prop.blockId,
          properties: prop.properties,
          line: i,
          context: context || "(start of line)"
        });
      }
    }
    return blocks;
  }
  countKeys(blocks) {
    const counts = {};
    for (const block of blocks) {
      for (const prop of block.properties) {
        counts[prop.key] = (counts[prop.key] || 0) + 1;
      }
    }
    return counts;
  }
  navigateToBlock(line) {
    const view = this.app.workspace.getActiveViewOfType(
      require("obsidian").MarkdownView
    );
    if (view) {
      const editor = view.editor;
      editor.setCursor({ line, ch: 0 });
      editor.scrollIntoView(
        { from: { line, ch: 0 }, to: { line, ch: 0 } },
        true
      );
      editor.focus();
    }
  }
};

// src/query.ts
var import_obsidian2 = require("obsidian");
var QueryModal = class extends import_obsidian2.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("block-properties-query-modal");
    contentEl.createEl("h2", { text: "Query Block Properties" });
    let keyValue = "";
    let valueValue = "";
    new import_obsidian2.Setting(contentEl).setName("Property key").setDesc('e.g. "status", "priority", "version"').addText(
      (text) => text.setPlaceholder("status").onChange((value) => {
        keyValue = value;
      })
    );
    new import_obsidian2.Setting(contentEl).setName("Property value (optional)").setDesc("Leave empty to find all blocks with this key").addText(
      (text) => text.setPlaceholder("draft").onChange((value) => {
        valueValue = value;
      })
    );
    new import_obsidian2.Setting(contentEl).addButton(
      (btn) => btn.setButtonText("Search").setCta().onClick(() => {
        this.close();
        this.onSubmit(keyValue, valueValue);
      })
    );
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ResultsModal = class extends import_obsidian2.Modal {
  constructor(app, results, query) {
    super(app);
    this.results = results;
    this.query = query;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("block-properties-results-modal");
    const queryStr = this.query.value ? `${this.query.key}: ${this.query.value}` : this.query.key;
    contentEl.createEl("h2", { text: `Results for "${queryStr}"` });
    contentEl.createEl("p", {
      text: `Found ${this.results.length} block(s)`,
      cls: "block-properties-results-count"
    });
    if (this.results.length === 0) {
      contentEl.createEl("p", {
        text: "No blocks found with matching properties.",
        cls: "block-properties-no-results"
      });
      return;
    }
    const list = contentEl.createEl("div", {
      cls: "block-properties-results-list"
    });
    for (const result of this.results) {
      const item = list.createEl("div", {
        cls: "block-properties-result-item"
      });
      const header = item.createEl("div", {
        cls: "block-properties-result-header"
      });
      const link = header.createEl("a", {
        text: `${result.file.basename} \u2192 ^${result.blockId}`,
        cls: "block-properties-result-link"
      });
      link.addEventListener("click", async (e) => {
        e.preventDefault();
        this.close();
        const leaf = this.app.workspace.getLeaf();
        await leaf.openFile(result.file);
        const view = this.app.workspace.getActiveViewOfType(
          require("obsidian").MarkdownView
        );
        if (view) {
          const editor = view.editor;
          editor.setCursor({ line: result.line, ch: 0 });
          editor.scrollIntoView(
            { from: { line: result.line, ch: 0 }, to: { line: result.line, ch: 0 } },
            true
          );
        }
      });
      const props = item.createEl("div", {
        cls: "block-properties-result-props"
      });
      for (const p of result.properties) {
        const isMatch = p.key === this.query.key && (!this.query.value || p.value === this.query.value);
        props.createEl("span", {
          text: `${p.key}: ${p.value}`,
          cls: `block-properties-result-prop ${isMatch ? "is-match" : ""}`
        });
      }
      if (result.context) {
        item.createEl("div", {
          text: result.context,
          cls: "block-properties-result-context"
        });
      }
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
async function searchBlockProperties(app, key, value) {
  const results = [];
  const files = app.vault.getMarkdownFiles();
  for (const file of files) {
    const content = await app.vault.cachedRead(file);
    const lines = content.split("\n");
    let lineOffset = 0;
    for (let lineNum = 0; lineNum < lines.length; lineNum++) {
      const line = lines[lineNum];
      const blockProps = parseBlockProperties(line);
      for (const prop of blockProps) {
        const matchingProp = prop.properties.find(
          (p) => p.key === key && (!value || p.value === value)
        );
        if (matchingProp) {
          results.push({
            file,
            line: lineNum,
            blockId: prop.blockId,
            properties: prop.properties,
            context: line.slice(0, prop.from).trim().slice(0, 60)
          });
        }
      }
      lineOffset += line.length + 1;
    }
  }
  return results;
}

// src/settings.ts
var import_obsidian3 = require("obsidian");
var BlockPropertiesSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Block Properties Settings" });
    new import_obsidian3.Setting(containerEl).setName("Display mode").setDesc("How to display block properties in the editor").addDropdown(
      (dropdown) => dropdown.addOption("inline", "Inline (dimmed text)").addOption("badge", "Badge (compact icon)").setValue(this.plugin.settings.displayMode).onChange(async (value) => {
        this.plugin.settings.displayMode = value;
        await this.plugin.saveSettings();
        this.plugin.refreshEditorExtension();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Property color").setDesc("Color used to display block properties").addText(
      (text) => text.setPlaceholder("#888888").setValue(this.plugin.settings.propertyColor).onChange(async (value) => {
        this.plugin.settings.propertyColor = value || "#888888";
        await this.plugin.saveSettings();
        this.plugin.updateStyles();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Opacity").setDesc("Opacity of block properties (0.1 - 1.0)").addSlider(
      (slider) => slider.setLimits(0.1, 1, 0.1).setValue(this.plugin.settings.opacity).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.opacity = value;
        await this.plugin.saveSettings();
        this.plugin.updateStyles();
      })
    );
  }
};

// src/suggest.ts
var import_obsidian4 = require("obsidian");
var BlockPropertiesSuggest = class extends import_obsidian4.EditorSuggest {
  // 30 seconds
  constructor(plugin) {
    super(plugin.app);
    this.cachedKeys = /* @__PURE__ */ new Map();
    this.cachedValues = /* @__PURE__ */ new Map();
    this.lastCacheUpdate = 0;
    this.CACHE_TTL = 3e4;
    this.plugin = plugin;
  }
  onTrigger(cursor, editor, file) {
    const line = editor.getLine(cursor.line);
    const beforeCursor = line.slice(0, cursor.ch);
    const afterCursor = line.slice(cursor.ch);
    const bracketStart = beforeCursor.lastIndexOf("[");
    if (bracketStart === -1) return null;
    const textInBracket = beforeCursor.slice(bracketStart + 1);
    if (textInBracket.includes("]")) return null;
    const beforeBracket = line.slice(0, bracketStart);
    if (!beforeBracket.match(/\^[\w-]+\s*$/)) return null;
    const lastComma = textInBracket.lastIndexOf(",");
    const lastColon = textInBracket.lastIndexOf(":");
    let start;
    let query;
    if (lastColon > lastComma) {
      start = bracketStart + 1 + lastColon + 1;
      query = textInBracket.slice(lastColon + 1).trim();
    } else {
      start = bracketStart + 1 + (lastComma === -1 ? 0 : lastComma + 1);
      query = lastComma === -1 ? textInBracket.trim() : textInBracket.slice(lastComma + 1).trim();
    }
    return {
      start: { line: cursor.line, ch: start },
      end: cursor,
      query
    };
  }
  async getSuggestions(context) {
    await this.updateCache();
    const line = context.editor.getLine(context.start.line);
    const beforeCursor = line.slice(0, context.end.ch);
    const bracketStart = beforeCursor.lastIndexOf("[");
    const textInBracket = beforeCursor.slice(bracketStart + 1);
    const lastComma = textInBracket.lastIndexOf(",");
    const lastColon = textInBracket.lastIndexOf(":");
    const query = context.query.toLowerCase();
    if (lastColon > lastComma) {
      const keyStart = lastComma === -1 ? 0 : lastComma + 1;
      const currentKey = textInBracket.slice(keyStart, lastColon).trim();
      const values = this.cachedValues.get(currentKey) || /* @__PURE__ */ new Map();
      return Array.from(values.entries()).filter(([value]) => value.toLowerCase().includes(query)).map(([text, count]) => ({ type: "value", text, count })).sort((a, b) => b.count - a.count).slice(0, 10);
    } else {
      return Array.from(this.cachedKeys.entries()).filter(([key]) => key.toLowerCase().includes(query)).map(([text, count]) => ({ type: "key", text, count })).sort((a, b) => b.count - a.count).slice(0, 10);
    }
  }
  renderSuggestion(suggestion, el) {
    el.addClass("block-properties-suggestion");
    const text = el.createEl("span", {
      text: suggestion.text,
      cls: "block-properties-suggestion-text"
    });
    const meta = el.createEl("span", {
      cls: "block-properties-suggestion-meta"
    });
    meta.createEl("span", {
      text: suggestion.type === "key" ? "key" : "value",
      cls: "block-properties-suggestion-type"
    });
    meta.createEl("span", {
      text: `${suggestion.count}`,
      cls: "block-properties-suggestion-count"
    });
  }
  selectSuggestion(suggestion, evt) {
    if (!this.context) return;
    const { editor, start, end } = this.context;
    let replacement = suggestion.text;
    if (suggestion.type === "key") {
      replacement = suggestion.text + ": ";
    }
    editor.replaceRange(replacement, start, end);
    const newCh = start.ch + replacement.length;
    editor.setCursor({ line: start.line, ch: newCh });
  }
  async updateCache() {
    const now = Date.now();
    if (now - this.lastCacheUpdate < this.CACHE_TTL) {
      return;
    }
    this.cachedKeys.clear();
    this.cachedValues.clear();
    const files = this.app.vault.getMarkdownFiles();
    for (const file of files) {
      try {
        const content = await this.app.vault.cachedRead(file);
        const lines = content.split("\n");
        for (const line of lines) {
          const props = parseBlockProperties(line);
          for (const prop of props) {
            for (const p of prop.properties) {
              this.cachedKeys.set(
                p.key,
                (this.cachedKeys.get(p.key) || 0) + 1
              );
              if (!this.cachedValues.has(p.key)) {
                this.cachedValues.set(p.key, /* @__PURE__ */ new Map());
              }
              const valueMap = this.cachedValues.get(p.key);
              valueMap.set(p.value, (valueMap.get(p.value) || 0) + 1);
            }
          }
        }
      } catch (e) {
      }
    }
    this.lastCacheUpdate = now;
  }
};

// src/types.ts
var DEFAULT_SETTINGS = {
  displayMode: "inline",
  propertyColor: "#888888",
  opacity: 0.6
};

// src/main.ts
var BlockPropertiesPlugin = class extends import_obsidian5.Plugin {
  constructor() {
    super(...arguments);
    this.styleEl = null;
    this.editorExtension = [];
    this.readingTooltip = null;
  }
  async onload() {
    await this.loadSettings();
    this.editorExtension = createBlockPropertiesExtension(this.settings.displayMode);
    this.registerEditorExtension(this.editorExtension);
    this.registerView(PANEL_VIEW_TYPE, (leaf) => new PropertyPanelView(leaf, this));
    this.registerEditorSuggest(new BlockPropertiesSuggest(this));
    this.addSettingTab(new BlockPropertiesSettingTab(this.app, this));
    this.addCommand({
      id: "insert-block-property",
      name: "Insert block property",
      editorCallback: (editor, view) => {
        const cursor = editor.getCursor();
        const line = editor.getLine(cursor.line);
        if (line.includes("^")) {
          const match = line.match(/\^([\w-]+)(?:\s*\[([^\]]*)\])?/);
          if (match) {
            const blockId = match[1];
            const existingProps = match[2] || "";
            const newProps = existingProps ? `${existingProps}, key: value` : "key: value";
            const replacement = `^${blockId} [${newProps}]`;
            const from = line.indexOf("^");
            editor.replaceRange(
              replacement,
              { line: cursor.line, ch: from },
              { line: cursor.line, ch: line.length }
            );
          }
        } else {
          const insertion = " ^block-id [key: value]";
          editor.replaceRange(insertion, {
            line: cursor.line,
            ch: line.length
          });
        }
      }
    });
    this.addCommand({
      id: "query-block-properties",
      name: "Query block properties",
      callback: () => {
        new QueryModal(this.app, async (key, value) => {
          if (!key) return;
          const results = await searchBlockProperties(
            this.app,
            key,
            value || void 0
          );
          new ResultsModal(this.app, results, { key, value }).open();
        }).open();
      }
    });
    this.addCommand({
      id: "open-property-panel",
      name: "Open property panel",
      callback: () => {
        this.activatePanel();
      }
    });
    this.registerMarkdownPostProcessor(this.postProcessor.bind(this));
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        this.updatePanel();
      })
    );
    this.registerEvent(
      this.app.workspace.on("editor-change", () => {
        this.updatePanel();
      })
    );
    this.updateStyles();
  }
  async activatePanel() {
    const existing = this.app.workspace.getLeavesOfType(PANEL_VIEW_TYPE);
    if (existing.length) {
      this.app.workspace.revealLeaf(existing[0]);
      return;
    }
    const leaf = this.app.workspace.getRightLeaf(false);
    if (leaf) {
      await leaf.setViewState({ type: PANEL_VIEW_TYPE, active: true });
      this.app.workspace.revealLeaf(leaf);
    }
  }
  updatePanel() {
    const leaves = this.app.workspace.getLeavesOfType(PANEL_VIEW_TYPE);
    for (const leaf of leaves) {
      const view = leaf.view;
      const activeFile = this.app.workspace.getActiveFile();
      view.updateForFile(activeFile);
    }
  }
  postProcessor(el, ctx) {
    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT);
    const nodesToProcess = [];
    let node;
    while (node = walker.nextNode()) {
      const text = node.textContent || "";
      const props = parseBlockProperties(text);
      if (props.length > 0) {
        nodesToProcess.push({ node, props });
      }
    }
    for (const { node: node2, props } of nodesToProcess.reverse()) {
      const text = node2.textContent || "";
      for (const prop of props.reverse()) {
        const fullMatch = text.slice(prop.from, prop.to);
        const bracketStart = fullMatch.indexOf("[");
        if (bracketStart === -1) continue;
        const beforeProps = text.slice(0, prop.from + bracketStart);
        const propsText = text.slice(prop.from + bracketStart, prop.to);
        const afterProps = text.slice(prop.to);
        const wrapper = document.createElement("span");
        wrapper.className = "block-property block-property-reading";
        wrapper.textContent = propsText;
        wrapper.setAttribute("data-block-id", prop.blockId);
        wrapper.setAttribute(
          "data-properties",
          JSON.stringify(prop.properties)
        );
        wrapper.addEventListener("mouseenter", (e) => {
          this.showReadingTooltip(e.target, prop);
        });
        wrapper.addEventListener("mouseleave", () => {
          this.hideReadingTooltip();
        });
        const parent = node2.parentNode;
        if (parent) {
          const beforeNode = document.createTextNode(beforeProps);
          const afterNode = document.createTextNode(afterProps);
          parent.insertBefore(beforeNode, node2);
          parent.insertBefore(wrapper, node2);
          parent.insertBefore(afterNode, node2);
          parent.removeChild(node2);
        }
      }
    }
  }
  showReadingTooltip(target, prop) {
    this.hideReadingTooltip();
    const tooltip = document.createElement("div");
    tooltip.className = "block-properties-tooltip block-properties-reading-tooltip";
    const header = document.createElement("div");
    header.className = "block-properties-tooltip-header";
    header.textContent = `^${prop.blockId}`;
    tooltip.appendChild(header);
    const list = document.createElement("div");
    list.className = "block-properties-tooltip-list";
    for (const p of prop.properties) {
      const item = document.createElement("div");
      item.className = "block-properties-tooltip-item";
      const key = document.createElement("span");
      key.className = "block-properties-tooltip-key";
      key.textContent = p.key;
      const value = document.createElement("span");
      value.className = "block-properties-tooltip-value";
      value.textContent = p.value;
      item.appendChild(key);
      item.appendChild(value);
      list.appendChild(item);
    }
    tooltip.appendChild(list);
    const rect = target.getBoundingClientRect();
    tooltip.style.position = "fixed";
    tooltip.style.left = `${rect.left}px`;
    tooltip.style.top = `${rect.top - 8}px`;
    tooltip.style.transform = "translateY(-100%)";
    tooltip.style.zIndex = "1000";
    document.body.appendChild(tooltip);
    this.readingTooltip = tooltip;
  }
  hideReadingTooltip() {
    if (this.readingTooltip) {
      this.readingTooltip.remove();
      this.readingTooltip = null;
    }
  }
  onunload() {
    if (this.styleEl) {
      this.styleEl.remove();
    }
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  updateStyles() {
    if (!this.styleEl) {
      this.styleEl = document.createElement("style");
      this.styleEl.id = "block-properties-styles";
      document.head.appendChild(this.styleEl);
    }
    this.styleEl.textContent = `
			.block-property {
				color: ${this.settings.propertyColor};
				opacity: ${this.settings.opacity};
				font-size: 0.9em;
			}
		`;
  }
  refreshEditorExtension() {
    const newExtension = createBlockPropertiesExtension(this.settings.displayMode);
    this.editorExtension.length = 0;
    this.editorExtension.push(...newExtension);
    this.app.workspace.updateOptions();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2VkaXRvci1leHRlbnNpb24udHMiLCAic3JjL3BhcnNlci50cyIsICJzcmMvcGFuZWwudHMiLCAic3JjL3F1ZXJ5LnRzIiwgInNyYy9zZXR0aW5ncy50cyIsICJzcmMvc3VnZ2VzdC50cyIsICJzcmMvdHlwZXMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7RWRpdG9yLCBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0LCBNYXJrZG93blZpZXcsIFBsdWdpbiwgVEZpbGUsIFdvcmtzcGFjZUxlYWZ9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7RXh0ZW5zaW9ufSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQge2NyZWF0ZUJsb2NrUHJvcGVydGllc0V4dGVuc2lvbn0gZnJvbSAnLi9lZGl0b3ItZXh0ZW5zaW9uJztcbmltcG9ydCB7UEFORUxfVklFV19UWVBFLCBQcm9wZXJ0eVBhbmVsVmlld30gZnJvbSAnLi9wYW5lbCc7XG5pbXBvcnQge3BhcnNlQmxvY2tQcm9wZXJ0aWVzfSBmcm9tICcuL3BhcnNlcic7XG5pbXBvcnQge1F1ZXJ5TW9kYWwsIFJlc3VsdHNNb2RhbCwgc2VhcmNoQmxvY2tQcm9wZXJ0aWVzfSBmcm9tICcuL3F1ZXJ5JztcbmltcG9ydCB7QmxvY2tQcm9wZXJ0aWVzU2V0dGluZ1RhYn0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQge0Jsb2NrUHJvcGVydGllc1N1Z2dlc3R9IGZyb20gJy4vc3VnZ2VzdCc7XG5pbXBvcnQge0Jsb2NrUHJvcGVydGllc1NldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2tQcm9wZXJ0aWVzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IEJsb2NrUHJvcGVydGllc1NldHRpbmdzO1xuXHRwcml2YXRlIHN0eWxlRWw6IEhUTUxTdHlsZUVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBlZGl0b3JFeHRlbnNpb246IEV4dGVuc2lvbltdID0gW107XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBSZWdpc3RlciB0aGUgQ29kZU1pcnJvciBleHRlbnNpb25cblx0XHR0aGlzLmVkaXRvckV4dGVuc2lvbiA9IGNyZWF0ZUJsb2NrUHJvcGVydGllc0V4dGVuc2lvbih0aGlzLnNldHRpbmdzLmRpc3BsYXlNb2RlKTtcblx0XHR0aGlzLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKHRoaXMuZWRpdG9yRXh0ZW5zaW9uKTtcblxuXHRcdC8vIFJlZ2lzdGVyIHRoZSBwcm9wZXJ0eSBwYW5lbCB2aWV3XG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoUEFORUxfVklFV19UWVBFLCAobGVhZikgPT4gbmV3IFByb3BlcnR5UGFuZWxWaWV3KGxlYWYsIHRoaXMpKTtcblxuXHRcdC8vIFJlZ2lzdGVyIGF1dG9jb21wbGV0ZSBzdWdnZXN0ZXJcblx0XHR0aGlzLnJlZ2lzdGVyRWRpdG9yU3VnZ2VzdChuZXcgQmxvY2tQcm9wZXJ0aWVzU3VnZ2VzdCh0aGlzKSk7XG5cblx0XHQvLyBBZGQgc2V0dGluZ3MgdGFiXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBCbG9ja1Byb3BlcnRpZXNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBBZGQgY29tbWFuZCB0byBpbnNlcnQgYmxvY2sgcHJvcGVydHkgdGVtcGxhdGVcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdpbnNlcnQtYmxvY2stcHJvcGVydHknLFxuXHRcdFx0bmFtZTogJ0luc2VydCBibG9jayBwcm9wZXJ0eScsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuXHRcdFx0XHRjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUoY3Vyc29yLmxpbmUpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGlmIGxpbmUgYWxyZWFkeSBoYXMgYSBibG9jayBJRFxuXHRcdFx0XHRpZiAobGluZS5pbmNsdWRlcygnXicpKSB7XG5cdFx0XHRcdFx0Ly8gVHJ5IHRvIGFkZCBwcm9wZXJ0aWVzIHRvIGV4aXN0aW5nIGJsb2NrIElEXG5cdFx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9cXF4oW1xcdy1dKykoPzpcXHMqXFxbKFteXFxdXSopXFxdKT8vKTtcblx0XHRcdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGJsb2NrSWQgPSBtYXRjaFsxXTtcblx0XHRcdFx0XHRcdGNvbnN0IGV4aXN0aW5nUHJvcHMgPSBtYXRjaFsyXSB8fCAnJztcblx0XHRcdFx0XHRcdGNvbnN0IG5ld1Byb3BzID0gZXhpc3RpbmdQcm9wc1xuXHRcdFx0XHRcdFx0XHQ/IGAke2V4aXN0aW5nUHJvcHN9LCBrZXk6IHZhbHVlYFxuXHRcdFx0XHRcdFx0XHQ6ICdrZXk6IHZhbHVlJztcblx0XHRcdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gYF4ke2Jsb2NrSWR9IFske25ld1Byb3BzfV1gO1xuXHRcdFx0XHRcdFx0Y29uc3QgZnJvbSA9IGxpbmUuaW5kZXhPZignXicpO1xuXHRcdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcblx0XHRcdFx0XHRcdFx0cmVwbGFjZW1lbnQsXG5cdFx0XHRcdFx0XHRcdHtsaW5lOiBjdXJzb3IubGluZSwgY2g6IGZyb219LFxuXHRcdFx0XHRcdFx0XHR7bGluZTogY3Vyc29yLmxpbmUsIGNoOiBsaW5lLmxlbmd0aH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEluc2VydCBuZXcgYmxvY2sgSUQgd2l0aCBwcm9wZXJ0aWVzIGF0IGVuZCBvZiBsaW5lXG5cdFx0XHRcdFx0Y29uc3QgaW5zZXJ0aW9uID0gJyBeYmxvY2staWQgW2tleTogdmFsdWVdJztcblx0XHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKGluc2VydGlvbiwge1xuXHRcdFx0XHRcdFx0bGluZTogY3Vyc29yLmxpbmUsXG5cdFx0XHRcdFx0XHRjaDogbGluZS5sZW5ndGgsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgY29tbWFuZCB0byBxdWVyeSBibG9jayBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAncXVlcnktYmxvY2stcHJvcGVydGllcycsXG5cdFx0XHRuYW1lOiAnUXVlcnkgYmxvY2sgcHJvcGVydGllcycsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgUXVlcnlNb2RhbCh0aGlzLmFwcCwgYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcblx0XHRcdFx0XHRpZiAoIWtleSkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlYXJjaEJsb2NrUHJvcGVydGllcyhcblx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0dmFsdWUgfHwgdW5kZWZpbmVkXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdG5ldyBSZXN1bHRzTW9kYWwodGhpcy5hcHAsIHJlc3VsdHMsIHtrZXksIHZhbHVlfSkub3BlbigpO1xuXHRcdFx0XHR9KS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gQWRkIGNvbW1hbmQgdG8gb3BlbiBwcm9wZXJ0eSBwYW5lbFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tcHJvcGVydHktcGFuZWwnLFxuXHRcdFx0bmFtZTogJ09wZW4gcHJvcGVydHkgcGFuZWwnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVBhbmVsKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gUmVnaXN0ZXIgUmVhZGluZyBWaWV3IHBvc3QgcHJvY2Vzc29yXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3Nvcih0aGlzLnBvc3RQcm9jZXNzb3IuYmluZCh0aGlzKSk7XG5cblx0XHQvLyBMaXN0ZW4gZm9yIGFjdGl2ZSBmaWxlIGNoYW5nZXMgdG8gdXBkYXRlIHBhbmVsXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdhY3RpdmUtbGVhZi1jaGFuZ2UnLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUGFuZWwoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLWNoYW5nZScsICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVQYW5lbCgpO1xuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gQXBwbHkgaW5pdGlhbCBzdHlsZXNcblx0XHR0aGlzLnVwZGF0ZVN0eWxlcygpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBhY3RpdmF0ZVBhbmVsKCkge1xuXHRcdGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShQQU5FTF9WSUVXX1RZUEUpO1xuXG5cdFx0aWYgKGV4aXN0aW5nLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoZXhpc3RpbmdbMF0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcblx0XHRpZiAobGVhZikge1xuXHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe3R5cGU6IFBBTkVMX1ZJRVdfVFlQRSwgYWN0aXZlOiB0cnVlfSk7XG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVBhbmVsKCkge1xuXHRcdGNvbnN0IGxlYXZlcyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoUEFORUxfVklFV19UWVBFKTtcblxuXHRcdGZvciAoY29uc3QgbGVhZiBvZiBsZWF2ZXMpIHtcblx0XHRcdGNvbnN0IHZpZXcgPSBsZWFmLnZpZXcgYXMgUHJvcGVydHlQYW5lbFZpZXc7XG5cdFx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdHZpZXcudXBkYXRlRm9yRmlsZShhY3RpdmVGaWxlKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHBvc3RQcm9jZXNzb3IoZWw6IEhUTUxFbGVtZW50LCBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpIHtcblx0XHQvLyBQcm9jZXNzIGFsbCB0ZXh0IG5vZGVzIHRvIGZpbmQgYmxvY2sgcHJvcGVydGllc1xuXHRcdGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcblx0XHRjb25zdCBub2Rlc1RvUHJvY2Vzczoge25vZGU6IFRleHQ7IHByb3BzOiBSZXR1cm5UeXBlPHR5cGVvZiBwYXJzZUJsb2NrUHJvcGVydGllcz59W10gPSBbXTtcblxuXHRcdGxldCBub2RlOiBUZXh0IHwgbnVsbDtcblx0XHR3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSBhcyBUZXh0IHwgbnVsbCkpIHtcblx0XHRcdGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50IHx8ICcnO1xuXHRcdFx0Y29uc3QgcHJvcHMgPSBwYXJzZUJsb2NrUHJvcGVydGllcyh0ZXh0KTtcblx0XHRcdGlmIChwcm9wcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG5vZGVzVG9Qcm9jZXNzLnB1c2goe25vZGUsIHByb3BzfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJvY2VzcyBub2RlcyBpbiByZXZlcnNlIHRvIG1haW50YWluIHBvc2l0aW9uc1xuXHRcdGZvciAoY29uc3Qge25vZGUsIHByb3BzfSBvZiBub2Rlc1RvUHJvY2Vzcy5yZXZlcnNlKCkpIHtcblx0XHRcdGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50IHx8ICcnO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMucmV2ZXJzZSgpKSB7XG5cdFx0XHRcdC8vIEZpbmQgdGhlIGZ1bGwgbWF0Y2ggaW4gdGhlIHRleHRcblx0XHRcdFx0Y29uc3QgZnVsbE1hdGNoID0gdGV4dC5zbGljZShwcm9wLmZyb20sIHByb3AudG8pO1xuXHRcdFx0XHRjb25zdCBicmFja2V0U3RhcnQgPSBmdWxsTWF0Y2guaW5kZXhPZignWycpO1xuXG5cdFx0XHRcdGlmIChicmFja2V0U3RhcnQgPT09IC0xKSBjb250aW51ZTtcblxuXHRcdFx0XHRjb25zdCBiZWZvcmVQcm9wcyA9IHRleHQuc2xpY2UoMCwgcHJvcC5mcm9tICsgYnJhY2tldFN0YXJ0KTtcblx0XHRcdFx0Y29uc3QgcHJvcHNUZXh0ID0gdGV4dC5zbGljZShwcm9wLmZyb20gKyBicmFja2V0U3RhcnQsIHByb3AudG8pO1xuXHRcdFx0XHRjb25zdCBhZnRlclByb3BzID0gdGV4dC5zbGljZShwcm9wLnRvKTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgd3JhcHBlciBzcGFuIGZvciBwcm9wZXJ0aWVzXG5cdFx0XHRcdGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRcdHdyYXBwZXIuY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnR5IGJsb2NrLXByb3BlcnR5LXJlYWRpbmcnO1xuXHRcdFx0XHR3cmFwcGVyLnRleHRDb250ZW50ID0gcHJvcHNUZXh0O1xuXHRcdFx0XHR3cmFwcGVyLnNldEF0dHJpYnV0ZSgnZGF0YS1ibG9jay1pZCcsIHByb3AuYmxvY2tJZCk7XG5cdFx0XHRcdHdyYXBwZXIuc2V0QXR0cmlidXRlKFxuXHRcdFx0XHRcdCdkYXRhLXByb3BlcnRpZXMnLFxuXHRcdFx0XHRcdEpTT04uc3RyaW5naWZ5KHByb3AucHJvcGVydGllcylcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgdG9vbHRpcCBvbiBob3ZlclxuXHRcdFx0XHR3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2hvd1JlYWRpbmdUb29sdGlwKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50LCBwcm9wKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLmhpZGVSZWFkaW5nVG9vbHRpcCgpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZXBsYWNlIHRoZSB0ZXh0IG5vZGVcblx0XHRcdFx0Y29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuXHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0Y29uc3QgYmVmb3JlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGJlZm9yZVByb3BzKTtcblx0XHRcdFx0XHRjb25zdCBhZnRlck5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhZnRlclByb3BzKTtcblxuXHRcdFx0XHRcdHBhcmVudC5pbnNlcnRCZWZvcmUoYmVmb3JlTm9kZSwgbm9kZSk7XG5cdFx0XHRcdFx0cGFyZW50Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBub2RlKTtcblx0XHRcdFx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKGFmdGVyTm9kZSwgbm9kZSk7XG5cdFx0XHRcdFx0cGFyZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSByZWFkaW5nVG9vbHRpcDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuXHRwcml2YXRlIHNob3dSZWFkaW5nVG9vbHRpcChcblx0XHR0YXJnZXQ6IEhUTUxFbGVtZW50LFxuXHRcdHByb3A6IFJldHVyblR5cGU8dHlwZW9mIHBhcnNlQmxvY2tQcm9wZXJ0aWVzPlswXVxuXHQpIHtcblx0XHR0aGlzLmhpZGVSZWFkaW5nVG9vbHRpcCgpO1xuXG5cdFx0Y29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRvb2x0aXAuY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnRpZXMtdG9vbHRpcCBibG9jay1wcm9wZXJ0aWVzLXJlYWRpbmctdG9vbHRpcCc7XG5cblx0XHRjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRoZWFkZXIuY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnRpZXMtdG9vbHRpcC1oZWFkZXInO1xuXHRcdGhlYWRlci50ZXh0Q29udGVudCA9IGBeJHtwcm9wLmJsb2NrSWR9YDtcblx0XHR0b29sdGlwLmFwcGVuZENoaWxkKGhlYWRlcik7XG5cblx0XHRjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bGlzdC5jbGFzc05hbWUgPSAnYmxvY2stcHJvcGVydGllcy10b29sdGlwLWxpc3QnO1xuXG5cdFx0Zm9yIChjb25zdCBwIG9mIHByb3AucHJvcGVydGllcykge1xuXHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnYmxvY2stcHJvcGVydGllcy10b29sdGlwLWl0ZW0nO1xuXG5cdFx0XHRjb25zdCBrZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRrZXkuY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnRpZXMtdG9vbHRpcC1rZXknO1xuXHRcdFx0a2V5LnRleHRDb250ZW50ID0gcC5rZXk7XG5cblx0XHRcdGNvbnN0IHZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0dmFsdWUuY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnRpZXMtdG9vbHRpcC12YWx1ZSc7XG5cdFx0XHR2YWx1ZS50ZXh0Q29udGVudCA9IHAudmFsdWU7XG5cblx0XHRcdGl0ZW0uYXBwZW5kQ2hpbGQoa2V5KTtcblx0XHRcdGl0ZW0uYXBwZW5kQ2hpbGQodmFsdWUpO1xuXHRcdFx0bGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcblx0XHR9XG5cblx0XHR0b29sdGlwLmFwcGVuZENoaWxkKGxpc3QpO1xuXG5cdFx0Ly8gUG9zaXRpb24gdG9vbHRpcFxuXHRcdGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0dG9vbHRpcC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG5cdFx0dG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcblx0XHR0b29sdGlwLnN0eWxlLnRvcCA9IGAke3JlY3QudG9wIC0gOH1weGA7XG5cdFx0dG9vbHRpcC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTAwJSknO1xuXHRcdHRvb2x0aXAuc3R5bGUuekluZGV4ID0gJzEwMDAnO1xuXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b29sdGlwKTtcblx0XHR0aGlzLnJlYWRpbmdUb29sdGlwID0gdG9vbHRpcDtcblx0fVxuXG5cdHByaXZhdGUgaGlkZVJlYWRpbmdUb29sdGlwKCkge1xuXHRcdGlmICh0aGlzLnJlYWRpbmdUb29sdGlwKSB7XG5cdFx0XHR0aGlzLnJlYWRpbmdUb29sdGlwLnJlbW92ZSgpO1xuXHRcdFx0dGhpcy5yZWFkaW5nVG9vbHRpcCA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0aWYgKHRoaXMuc3R5bGVFbCkge1xuXHRcdFx0dGhpcy5zdHlsZUVsLnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdHVwZGF0ZVN0eWxlcygpIHtcblx0XHRpZiAoIXRoaXMuc3R5bGVFbCkge1xuXHRcdFx0dGhpcy5zdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0XHRcdHRoaXMuc3R5bGVFbC5pZCA9ICdibG9jay1wcm9wZXJ0aWVzLXN0eWxlcyc7XG5cdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVFbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdHlsZUVsLnRleHRDb250ZW50ID0gYFxuXHRcdFx0LmJsb2NrLXByb3BlcnR5IHtcblx0XHRcdFx0Y29sb3I6ICR7dGhpcy5zZXR0aW5ncy5wcm9wZXJ0eUNvbG9yfTtcblx0XHRcdFx0b3BhY2l0eTogJHt0aGlzLnNldHRpbmdzLm9wYWNpdHl9O1xuXHRcdFx0XHRmb250LXNpemU6IDAuOWVtO1xuXHRcdFx0fVxuXHRcdGA7XG5cdH1cblxuXHRyZWZyZXNoRWRpdG9yRXh0ZW5zaW9uKCkge1xuXHRcdC8vIFVwZGF0ZSB0aGUgZXh0ZW5zaW9uIGFycmF5IGNvbnRlbnRzXG5cdFx0Y29uc3QgbmV3RXh0ZW5zaW9uID0gY3JlYXRlQmxvY2tQcm9wZXJ0aWVzRXh0ZW5zaW9uKHRoaXMuc2V0dGluZ3MuZGlzcGxheU1vZGUpO1xuXHRcdHRoaXMuZWRpdG9yRXh0ZW5zaW9uLmxlbmd0aCA9IDA7XG5cdFx0dGhpcy5lZGl0b3JFeHRlbnNpb24ucHVzaCguLi5uZXdFeHRlbnNpb24pO1xuXG5cdFx0Ly8gRm9yY2UgcmVmcmVzaCBhbGwgbWFya2Rvd24gdmlld3Ncblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudXBkYXRlT3B0aW9ucygpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtSYW5nZVNldEJ1aWxkZXJ9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7XG5cdERlY29yYXRpb24sXG5cdERlY29yYXRpb25TZXQsXG5cdEVkaXRvclZpZXcsXG5cdGhvdmVyVG9vbHRpcCxcblx0UGx1Z2luVmFsdWUsXG5cdFRvb2x0aXAsXG5cdFZpZXdQbHVnaW4sXG5cdFZpZXdVcGRhdGUsXG5cdFdpZGdldFR5cGUsXG59IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHtwYXJzZUJsb2NrUHJvcGVydGllc30gZnJvbSAnLi9wYXJzZXInO1xuaW1wb3J0IHR5cGUge0Rpc3BsYXlNb2RlfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgcHJvcGVydHlEZWNvcmF0aW9uID0gRGVjb3JhdGlvbi5tYXJrKHtcblx0Y2xhc3M6ICdibG9jay1wcm9wZXJ0eScsXG59KTtcblxuY2xhc3MgQmFkZ2VXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSBibG9ja0lkOiBzdHJpbmcsXG5cdFx0cHJpdmF0ZSBwcm9wZXJ0aWVzOiB7a2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmd9W11cblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdHRvRE9NKCkge1xuXHRcdGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdGJhZGdlLmNsYXNzTmFtZSA9ICdibG9jay1wcm9wZXJ0eS1iYWRnZSc7XG5cdFx0YmFkZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLWJsb2NrLWlkJywgdGhpcy5ibG9ja0lkKTtcblx0XHRiYWRnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcGVydGllcycsIEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcGVydGllcykpO1xuXG5cdFx0Ly8gU2hvdyBwcm9wZXJ0eSBjb3VudFxuXHRcdGNvbnN0IGNvdW50ID0gdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDtcblx0XHRiYWRnZS50ZXh0Q29udGVudCA9IGAke2NvdW50fWA7XG5cdFx0YmFkZ2UudGl0bGUgPSB0aGlzLnByb3BlcnRpZXMubWFwKChwKSA9PiBgJHtwLmtleX06ICR7cC52YWx1ZX1gKS5qb2luKCcsICcpO1xuXG5cdFx0cmV0dXJuIGJhZGdlO1xuXHR9XG5cblx0ZXEob3RoZXI6IEJhZGdlV2lkZ2V0KSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMuYmxvY2tJZCA9PT0gb3RoZXIuYmxvY2tJZCAmJlxuXHRcdFx0SlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wZXJ0aWVzKSA9PT0gSlNPTi5zdHJpbmdpZnkob3RoZXIucHJvcGVydGllcylcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdQbHVnaW4oZGlzcGxheU1vZGU6IERpc3BsYXlNb2RlKSB7XG5cdGNsYXNzIEJsb2NrUHJvcGVydGllc1ZpZXdQbHVnaW4gaW1wbGVtZW50cyBQbHVnaW5WYWx1ZSB7XG5cdFx0ZGVjb3JhdGlvbnM6IERlY29yYXRpb25TZXQ7XG5cblx0XHRjb25zdHJ1Y3Rvcih2aWV3OiBFZGl0b3JWaWV3KSB7XG5cdFx0XHR0aGlzLmRlY29yYXRpb25zID0gdGhpcy5idWlsZERlY29yYXRpb25zKHZpZXcpO1xuXHRcdH1cblxuXHRcdHVwZGF0ZSh1cGRhdGU6IFZpZXdVcGRhdGUpIHtcblx0XHRcdGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKSB7XG5cdFx0XHRcdHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmJ1aWxkRGVjb3JhdGlvbnModXBkYXRlLnZpZXcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRlc3Ryb3koKSB7fVxuXG5cdFx0cHJpdmF0ZSBidWlsZERlY29yYXRpb25zKHZpZXc6IEVkaXRvclZpZXcpOiBEZWNvcmF0aW9uU2V0IHtcblx0XHRcdGNvbnN0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyPERlY29yYXRpb24+KCk7XG5cblx0XHRcdGZvciAoY29uc3Qge2Zyb20sIHRvfSBvZiB2aWV3LnZpc2libGVSYW5nZXMpIHtcblx0XHRcdFx0Y29uc3QgdGV4dCA9IHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvKTtcblx0XHRcdFx0Y29uc3QgYmxvY2tQcm9wcyA9IHBhcnNlQmxvY2tQcm9wZXJ0aWVzKHRleHQsIGZyb20pO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgcHJvcCBvZiBibG9ja1Byb3BzKSB7XG5cdFx0XHRcdFx0Y29uc3QgZnVsbFRleHQgPSB2aWV3LnN0YXRlLmRvYy5zbGljZVN0cmluZyhwcm9wLmZyb20sIHByb3AudG8pO1xuXHRcdFx0XHRcdGNvbnN0IGJyYWNrZXRTdGFydCA9IGZ1bGxUZXh0LmluZGV4T2YoJ1snKTtcblxuXHRcdFx0XHRcdGlmIChicmFja2V0U3RhcnQgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBkZWNvckZyb20gPSBwcm9wLmZyb20gKyBicmFja2V0U3RhcnQ7XG5cdFx0XHRcdFx0XHRjb25zdCBkZWNvclRvID0gcHJvcC50bztcblxuXHRcdFx0XHRcdFx0aWYgKGRpc3BsYXlNb2RlID09PSAnYmFkZ2UnKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlcGxhY2Ugd2l0aCBiYWRnZSB3aWRnZXRcblx0XHRcdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0ID0gbmV3IEJhZGdlV2lkZ2V0KHByb3AuYmxvY2tJZCwgcHJvcC5wcm9wZXJ0aWVzKTtcblx0XHRcdFx0XHRcdFx0YnVpbGRlci5hZGQoXG5cdFx0XHRcdFx0XHRcdFx0ZGVjb3JGcm9tLFxuXHRcdFx0XHRcdFx0XHRcdGRlY29yVG8sXG5cdFx0XHRcdFx0XHRcdFx0RGVjb3JhdGlvbi5yZXBsYWNlKHt3aWRnZXR9KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gSW5saW5lIG1vZGUgLSBqdXN0IHN0eWxlIHRoZSB0ZXh0XG5cdFx0XHRcdFx0XHRcdGJ1aWxkZXIuYWRkKGRlY29yRnJvbSwgZGVjb3JUbywgcHJvcGVydHlEZWNvcmF0aW9uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIFZpZXdQbHVnaW4uZnJvbUNsYXNzKEJsb2NrUHJvcGVydGllc1ZpZXdQbHVnaW4sIHtcblx0XHRkZWNvcmF0aW9uczogKHYpID0+IHYuZGVjb3JhdGlvbnMsXG5cdH0pO1xufVxuXG5jb25zdCBibG9ja1Byb3BlcnRpZXNUb29sdGlwID0gaG92ZXJUb29sdGlwKFxuXHQodmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIpOiBUb29sdGlwIHwgbnVsbCA9PiB7XG5cdFx0Y29uc3QgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuXHRcdGNvbnN0IGxpbmVUZXh0ID0gbGluZS50ZXh0O1xuXHRcdGNvbnN0IGxpbmVTdGFydCA9IGxpbmUuZnJvbTtcblxuXHRcdGNvbnN0IGJsb2NrUHJvcHMgPSBwYXJzZUJsb2NrUHJvcGVydGllcyhsaW5lVGV4dCwgbGluZVN0YXJ0KTtcblxuXHRcdGZvciAoY29uc3QgcHJvcCBvZiBibG9ja1Byb3BzKSB7XG5cdFx0XHRjb25zdCBmdWxsVGV4dCA9IHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHByb3AuZnJvbSwgcHJvcC50byk7XG5cdFx0XHRjb25zdCBicmFja2V0U3RhcnQgPSBmdWxsVGV4dC5pbmRleE9mKCdbJyk7XG5cblx0XHRcdGlmIChicmFja2V0U3RhcnQgIT09IC0xKSB7XG5cdFx0XHRcdGNvbnN0IHRvb2x0aXBGcm9tID0gcHJvcC5mcm9tICsgYnJhY2tldFN0YXJ0O1xuXHRcdFx0XHRjb25zdCB0b29sdGlwVG8gPSBwcm9wLnRvO1xuXG5cdFx0XHRcdGlmIChwb3MgPj0gdG9vbHRpcEZyb20gJiYgcG9zIDw9IHRvb2x0aXBUbykge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRwb3M6IHRvb2x0aXBGcm9tLFxuXHRcdFx0XHRcdFx0YWJvdmU6IHRydWUsXG5cdFx0XHRcdFx0XHRjcmVhdGUoKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRcdFx0XHRkb20uY2xhc3NOYW1lID0gJ2Jsb2NrLXByb3BlcnRpZXMtdG9vbHRpcCc7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0XHRcdGhlYWRlci5jbGFzc05hbWUgPSAnYmxvY2stcHJvcGVydGllcy10b29sdGlwLWhlYWRlcic7XG5cdFx0XHRcdFx0XHRcdGhlYWRlci50ZXh0Q29udGVudCA9IGBeJHtwcm9wLmJsb2NrSWR9YDtcblx0XHRcdFx0XHRcdFx0ZG9tLmFwcGVuZENoaWxkKGhlYWRlcik7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRcdFx0XHRsaXN0LmNsYXNzTmFtZSA9ICdibG9jay1wcm9wZXJ0aWVzLXRvb2x0aXAtbGlzdCc7XG5cblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwIG9mIHByb3AucHJvcGVydGllcykge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHRcdFx0XHRpdGVtLmNsYXNzTmFtZSA9ICdibG9jay1wcm9wZXJ0aWVzLXRvb2x0aXAtaXRlbSc7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBrZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRcdFx0XHRcdFx0a2V5LmNsYXNzTmFtZSA9ICdibG9jay1wcm9wZXJ0aWVzLXRvb2x0aXAta2V5Jztcblx0XHRcdFx0XHRcdFx0XHRrZXkudGV4dENvbnRlbnQgPSBwLmtleTtcblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLmNsYXNzTmFtZSA9ICdibG9jay1wcm9wZXJ0aWVzLXRvb2x0aXAtdmFsdWUnO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLnRleHRDb250ZW50ID0gcC52YWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0uYXBwZW5kQ2hpbGQoa2V5KTtcblx0XHRcdFx0XHRcdFx0XHRpdGVtLmFwcGVuZENoaWxkKHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ZG9tLmFwcGVuZENoaWxkKGxpc3QpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge2RvbX07XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJsb2NrUHJvcGVydGllc0V4dGVuc2lvbihkaXNwbGF5TW9kZTogRGlzcGxheU1vZGUpIHtcblx0cmV0dXJuIFtjcmVhdGVWaWV3UGx1Z2luKGRpc3BsYXlNb2RlKSwgYmxvY2tQcm9wZXJ0aWVzVG9vbHRpcF07XG59XG4iLCAiaW1wb3J0IHtCbG9ja1Byb3BlcnRpZXMsIEJsb2NrUHJvcGVydHl9IGZyb20gJy4vdHlwZXMnO1xuXG4vLyBNYXRjaGVzOiBeYmxvY2staWQgW2tleTogdmFsdWUsIGtleTI6IHZhbHVlMl1cbi8vIEdyb3VwIDE6IGJsb2NrLWlkXG4vLyBHcm91cCAyOiBwcm9wZXJ0aWVzIHN0cmluZ1xuY29uc3QgQkxPQ0tfUFJPUFNfUkVHRVggPSAvXFxeKFtcXHctXSspXFxzKlxcWyhbXlxcXV0rKVxcXS9nO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCbG9ja1Byb3BlcnRpZXModGV4dDogc3RyaW5nLCBvZmZzZXQgPSAwKTogQmxvY2tQcm9wZXJ0aWVzW10ge1xuXHRjb25zdCByZXN1bHRzOiBCbG9ja1Byb3BlcnRpZXNbXSA9IFtdO1xuXHRsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cblx0Ly8gUmVzZXQgcmVnZXggc3RhdGVcblx0QkxPQ0tfUFJPUFNfUkVHRVgubGFzdEluZGV4ID0gMDtcblxuXHR3aGlsZSAoKG1hdGNoID0gQkxPQ0tfUFJPUFNfUkVHRVguZXhlYyh0ZXh0KSkgIT09IG51bGwpIHtcblx0XHRjb25zdCBibG9ja0lkID0gbWF0Y2hbMV07XG5cdFx0Y29uc3QgcHJvcHNTdHJpbmcgPSBtYXRjaFsyXTtcblxuXHRcdGlmICghYmxvY2tJZCB8fCAhcHJvcHNTdHJpbmcpIGNvbnRpbnVlO1xuXG5cdFx0Y29uc3QgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllc1N0cmluZyhwcm9wc1N0cmluZyk7XG5cblx0XHRyZXN1bHRzLnB1c2goe1xuXHRcdFx0YmxvY2tJZCxcblx0XHRcdHByb3BlcnRpZXMsXG5cdFx0XHRmcm9tOiBvZmZzZXQgKyBtYXRjaC5pbmRleCxcblx0XHRcdHRvOiBvZmZzZXQgKyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBwYXJzZVByb3BlcnRpZXNTdHJpbmcocHJvcHNTdHJpbmc6IHN0cmluZyk6IEJsb2NrUHJvcGVydHlbXSB7XG5cdGNvbnN0IHByb3BlcnRpZXM6IEJsb2NrUHJvcGVydHlbXSA9IFtdO1xuXHRjb25zdCBwYWlycyA9IHByb3BzU3RyaW5nLnNwbGl0KCcsJyk7XG5cblx0Zm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG5cdFx0Y29uc3QgY29sb25JbmRleCA9IHBhaXIuaW5kZXhPZignOicpO1xuXHRcdGlmIChjb2xvbkluZGV4ID09PSAtMSkgY29udGludWU7XG5cblx0XHRjb25zdCBrZXkgPSBwYWlyLnNsaWNlKDAsIGNvbG9uSW5kZXgpLnRyaW0oKTtcblx0XHRjb25zdCB2YWx1ZSA9IHBhaXIuc2xpY2UoY29sb25JbmRleCArIDEpLnRyaW0oKTtcblxuXHRcdGlmIChrZXkpIHtcblx0XHRcdHByb3BlcnRpZXMucHVzaCh7a2V5LCB2YWx1ZX0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG4vLyBGaW5kIHRoZSByYW5nZSBvZiBqdXN0IHRoZSBwcm9wZXJ0aWVzIHBhcnQgWy4uLl1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wZXJ0aWVzUmFuZ2UodGV4dDogc3RyaW5nLCBvZmZzZXQgPSAwKToge2Zyb206IG51bWJlcjsgdG86IG51bWJlcn0gfCBudWxsIHtcblx0QkxPQ0tfUFJPUFNfUkVHRVgubGFzdEluZGV4ID0gMDtcblx0Y29uc3QgbWF0Y2ggPSBCTE9DS19QUk9QU19SRUdFWC5leGVjKHRleHQpO1xuXG5cdGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuXG5cdGNvbnN0IGJyYWNrZXRTdGFydCA9IG1hdGNoWzBdLmluZGV4T2YoJ1snKTtcblx0Y29uc3QgZnJvbSA9IG9mZnNldCArIG1hdGNoLmluZGV4ICsgYnJhY2tldFN0YXJ0O1xuXHRjb25zdCB0byA9IG9mZnNldCArIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG5cdHJldHVybiB7ZnJvbSwgdG99O1xufVxuIiwgImltcG9ydCB7SXRlbVZpZXcsIFRGaWxlLCBXb3Jrc3BhY2VMZWFmfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge3BhcnNlQmxvY2tQcm9wZXJ0aWVzfSBmcm9tICcuL3BhcnNlcic7XG5pbXBvcnQgdHlwZSBCbG9ja1Byb3BlcnRpZXNQbHVnaW4gZnJvbSAnLi9tYWluJztcblxuZXhwb3J0IGNvbnN0IFBBTkVMX1ZJRVdfVFlQRSA9ICdibG9jay1wcm9wZXJ0aWVzLXBhbmVsJztcblxuaW50ZXJmYWNlIFBhbmVsQmxvY2sge1xuXHRibG9ja0lkOiBzdHJpbmc7XG5cdHByb3BlcnRpZXM6IHtrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZ31bXTtcblx0bGluZTogbnVtYmVyO1xuXHRjb250ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVBhbmVsVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0cGx1Z2luOiBCbG9ja1Byb3BlcnRpZXNQbHVnaW47XG5cdHByaXZhdGUgY3VycmVudEZpbGU6IFRGaWxlIHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBCbG9ja1Byb3BlcnRpZXNQbHVnaW4pIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIFBBTkVMX1ZJRVdfVFlQRTtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICdCbG9jayBQcm9wZXJ0aWVzJztcblx0fVxuXG5cdGdldEljb24oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gJ3RhZyc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0dGhpcy5yZW5kZXJQYW5lbCgpO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpIHtcblx0XHQvLyBDbGVhbnVwXG5cdH1cblxuXHRhc3luYyB1cGRhdGVGb3JGaWxlKGZpbGU6IFRGaWxlIHwgbnVsbCkge1xuXHRcdHRoaXMuY3VycmVudEZpbGUgPSBmaWxlO1xuXHRcdHRoaXMucmVuZGVyUGFuZWwoKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcmVuZGVyUGFuZWwoKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwnKTtcblxuXHRcdGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1oZWFkZXInLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCF0aGlzLmN1cnJlbnRGaWxlKSB7XG5cdFx0XHRoZWFkZXIuY3JlYXRlRWwoJ2g0Jywge3RleHQ6ICdCbG9jayBQcm9wZXJ0aWVzJ30pO1xuXHRcdFx0Y29udGFpbmVyLmNyZWF0ZUVsKCdwJywge1xuXHRcdFx0XHR0ZXh0OiAnTm8gZmlsZSBvcGVuJyxcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1lbXB0eScsXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRoZWFkZXIuY3JlYXRlRWwoJ2g0Jywge3RleHQ6IHRoaXMuY3VycmVudEZpbGUuYmFzZW5hbWV9KTtcblxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRoaXMuY3VycmVudEZpbGUpO1xuXHRcdGNvbnN0IGJsb2NrcyA9IHRoaXMuZXh0cmFjdEJsb2Nrcyhjb250ZW50KTtcblxuXHRcdGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHRcdHRleHQ6ICdObyBibG9jayBwcm9wZXJ0aWVzIGZvdW5kJyxcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1lbXB0eScsXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjb3VudEVsID0gY29udGFpbmVyLmNyZWF0ZUVsKCdwJywge1xuXHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1jb3VudCcsXG5cdFx0fSk7XG5cdFx0Y291bnRFbC50ZXh0Q29udGVudCA9IGAke2Jsb2Nrcy5sZW5ndGh9IGJsb2NrKHMpIHdpdGggcHJvcGVydGllc2A7XG5cblx0XHRjb25zdCBsaXN0ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRjbHM6ICdibG9jay1wcm9wZXJ0aWVzLXBhbmVsLWxpc3QnLFxuXHRcdH0pO1xuXG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcblx0XHRcdGNvbnN0IGl0ZW0gPSBsaXN0LmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwtaXRlbScsXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgaXRlbUhlYWRlciA9IGl0ZW0uY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1pdGVtLWhlYWRlcicsXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgYmxvY2tMaW5rID0gaXRlbUhlYWRlci5jcmVhdGVFbCgnYScsIHtcblx0XHRcdFx0dGV4dDogYF4ke2Jsb2NrLmJsb2NrSWR9YCxcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1saW5rJyxcblx0XHRcdH0pO1xuXG5cdFx0XHRibG9ja0xpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMubmF2aWdhdGVUb0Jsb2NrKGJsb2NrLmxpbmUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChibG9jay5jb250ZXh0KSB7XG5cdFx0XHRcdGl0ZW1IZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHRcdFx0dGV4dDogYmxvY2suY29udGV4dCxcblx0XHRcdFx0XHRjbHM6ICdibG9jay1wcm9wZXJ0aWVzLXBhbmVsLWNvbnRleHQnLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcHJvcHMgPSBpdGVtLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwtcHJvcHMnLFxuXHRcdFx0fSk7XG5cblx0XHRcdGZvciAoY29uc3QgcCBvZiBibG9jay5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGNvbnN0IHByb3BFbCA9IHByb3BzLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1wcm9wJyxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cHJvcEVsLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHRcdHRleHQ6IHAua2V5LFxuXHRcdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwta2V5Jyxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cHJvcEVsLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHRcdHRleHQ6IHAudmFsdWUsXG5cdFx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC12YWx1ZScsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN1bW1hcnkgc2VjdGlvblxuXHRcdGNvbnN0IHN1bW1hcnkgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwtc3VtbWFyeScsXG5cdFx0fSk7XG5cblx0XHRzdW1tYXJ5LmNyZWF0ZUVsKCdoNScsIHt0ZXh0OiAnU3VtbWFyeSd9KTtcblxuXHRcdGNvbnN0IGtleUNvdW50ID0gdGhpcy5jb3VudEtleXMoYmxvY2tzKTtcblx0XHRjb25zdCBzdW1tYXJ5TGlzdCA9IHN1bW1hcnkuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwtc3VtbWFyeS1saXN0Jyxcblx0XHR9KTtcblxuXHRcdGZvciAoY29uc3QgW2tleSwgY291bnRdIG9mIE9iamVjdC5lbnRyaWVzKGtleUNvdW50KSkge1xuXHRcdFx0Y29uc3Qgc3VtbWFyeUl0ZW0gPSBzdW1tYXJ5TGlzdC5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRjbHM6ICdibG9jay1wcm9wZXJ0aWVzLXBhbmVsLXN1bW1hcnktaXRlbScsXG5cdFx0XHR9KTtcblxuXHRcdFx0c3VtbWFyeUl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHRcdHRleHQ6IGtleSxcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1wYW5lbC1zdW1tYXJ5LWtleScsXG5cdFx0XHR9KTtcblxuXHRcdFx0c3VtbWFyeUl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHRcdHRleHQ6IGAke2NvdW50fWAsXG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcGFuZWwtc3VtbWFyeS1jb3VudCcsXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGV4dHJhY3RCbG9ja3MoY29udGVudDogc3RyaW5nKTogUGFuZWxCbG9ja1tdIHtcblx0XHRjb25zdCBibG9ja3M6IFBhbmVsQmxvY2tbXSA9IFtdO1xuXHRcdGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBsaW5lID0gbGluZXNbaV07XG5cdFx0XHRjb25zdCBwcm9wcyA9IHBhcnNlQmxvY2tQcm9wZXJ0aWVzKGxpbmUpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcblx0XHRcdFx0Y29uc3QgY29udGV4dCA9IGxpbmUuc2xpY2UoMCwgcHJvcC5mcm9tKS50cmltKCkuc2xpY2UoMCwgNDApO1xuXHRcdFx0XHRibG9ja3MucHVzaCh7XG5cdFx0XHRcdFx0YmxvY2tJZDogcHJvcC5ibG9ja0lkLFxuXHRcdFx0XHRcdHByb3BlcnRpZXM6IHByb3AucHJvcGVydGllcyxcblx0XHRcdFx0XHRsaW5lOiBpLFxuXHRcdFx0XHRcdGNvbnRleHQ6IGNvbnRleHQgfHwgJyhzdGFydCBvZiBsaW5lKScsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBibG9ja3M7XG5cdH1cblxuXHRwcml2YXRlIGNvdW50S2V5cyhibG9ja3M6IFBhbmVsQmxvY2tbXSk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xuXHRcdGNvbnN0IGNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcblx0XHRcdGZvciAoY29uc3QgcHJvcCBvZiBibG9jay5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGNvdW50c1twcm9wLmtleV0gPSAoY291bnRzW3Byb3Aua2V5XSB8fCAwKSArIDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvdW50cztcblx0fVxuXG5cdHByaXZhdGUgbmF2aWdhdGVUb0Jsb2NrKGxpbmU6IG51bWJlcikge1xuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShcblx0XHRcdHJlcXVpcmUoJ29ic2lkaWFuJykuTWFya2Rvd25WaWV3XG5cdFx0KTtcblxuXHRcdGlmICh2aWV3KSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcblx0XHRcdGVkaXRvci5zZXRDdXJzb3Ioe2xpbmUsIGNoOiAwfSk7XG5cdFx0XHRlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoXG5cdFx0XHRcdHtmcm9tOiB7bGluZSwgY2g6IDB9LCB0bzoge2xpbmUsIGNoOiAwfX0sXG5cdFx0XHRcdHRydWVcblx0XHRcdCk7XG5cdFx0XHRlZGl0b3IuZm9jdXMoKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQge0FwcCwgTW9kYWwsIFNldHRpbmcsIFRGaWxlfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge3BhcnNlQmxvY2tQcm9wZXJ0aWVzfSBmcm9tICcuL3BhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlSZXN1bHQge1xuXHRmaWxlOiBURmlsZTtcblx0bGluZTogbnVtYmVyO1xuXHRibG9ja0lkOiBzdHJpbmc7XG5cdHByb3BlcnRpZXM6IHtrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZ31bXTtcblx0Y29udGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgUXVlcnlNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cHJpdmF0ZSBvblN1Ym1pdDogKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblN1Ym1pdDogKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5hZGRDbGFzcygnYmxvY2stcHJvcGVydGllcy1xdWVyeS1tb2RhbCcpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnUXVlcnkgQmxvY2sgUHJvcGVydGllcyd9KTtcblxuXHRcdGxldCBrZXlWYWx1ZSA9ICcnO1xuXHRcdGxldCB2YWx1ZVZhbHVlID0gJyc7XG5cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZSgnUHJvcGVydHkga2V5Jylcblx0XHRcdC5zZXREZXNjKCdlLmcuIFwic3RhdHVzXCIsIFwicHJpb3JpdHlcIiwgXCJ2ZXJzaW9uXCInKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ3N0YXR1cycpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0a2V5VmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcblx0XHRcdC5zZXROYW1lKCdQcm9wZXJ0eSB2YWx1ZSAob3B0aW9uYWwpJylcblx0XHRcdC5zZXREZXNjKCdMZWF2ZSBlbXB0eSB0byBmaW5kIGFsbCBibG9ja3Mgd2l0aCB0aGlzIGtleScpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignZHJhZnQnKVxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZhbHVlVmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuYWRkQnV0dG9uKChidG4pID0+XG5cdFx0XHRidG5cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1NlYXJjaCcpXG5cdFx0XHRcdC5zZXRDdGEoKVxuXHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRcdHRoaXMub25TdWJtaXQoa2V5VmFsdWUsIHZhbHVlVmFsdWUpO1xuXHRcdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUmVzdWx0c01vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIHJlc3VsdHM6IFF1ZXJ5UmVzdWx0W107XG5cdHByaXZhdGUgcXVlcnk6IHtrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZ307XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0YXBwOiBBcHAsXG5cdFx0cmVzdWx0czogUXVlcnlSZXN1bHRbXSxcblx0XHRxdWVyeToge2tleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nfVxuXHQpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMucmVzdWx0cyA9IHJlc3VsdHM7XG5cdFx0dGhpcy5xdWVyeSA9IHF1ZXJ5O1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoJ2Jsb2NrLXByb3BlcnRpZXMtcmVzdWx0cy1tb2RhbCcpO1xuXG5cdFx0Y29uc3QgcXVlcnlTdHIgPSB0aGlzLnF1ZXJ5LnZhbHVlXG5cdFx0XHQ/IGAke3RoaXMucXVlcnkua2V5fTogJHt0aGlzLnF1ZXJ5LnZhbHVlfWBcblx0XHRcdDogdGhpcy5xdWVyeS5rZXk7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6IGBSZXN1bHRzIGZvciBcIiR7cXVlcnlTdHJ9XCJgfSk7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdwJywge1xuXHRcdFx0dGV4dDogYEZvdW5kICR7dGhpcy5yZXN1bHRzLmxlbmd0aH0gYmxvY2socylgLFxuXHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1yZXN1bHRzLWNvdW50Jyxcblx0XHR9KTtcblxuXHRcdGlmICh0aGlzLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHRcdHRleHQ6ICdObyBibG9ja3MgZm91bmQgd2l0aCBtYXRjaGluZyBwcm9wZXJ0aWVzLicsXG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtbm8tcmVzdWx0cycsXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0ID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRjbHM6ICdibG9jay1wcm9wZXJ0aWVzLXJlc3VsdHMtbGlzdCcsXG5cdFx0fSk7XG5cblx0XHRmb3IgKGNvbnN0IHJlc3VsdCBvZiB0aGlzLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGl0ZW0gPSBsaXN0LmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcmVzdWx0LWl0ZW0nLFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGhlYWRlciA9IGl0ZW0uY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1yZXN1bHQtaGVhZGVyJyxcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBsaW5rID0gaGVhZGVyLmNyZWF0ZUVsKCdhJywge1xuXHRcdFx0XHR0ZXh0OiBgJHtyZXN1bHQuZmlsZS5iYXNlbmFtZX0gXHUyMTkyIF4ke3Jlc3VsdC5ibG9ja0lkfWAsXG5cdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcmVzdWx0LWxpbmsnLFxuXHRcdFx0fSk7XG5cblx0XHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblxuXHRcdFx0XHQvLyBPcGVuIGZpbGUgYW5kIG5hdmlnYXRlIHRvIGxpbmVcblx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCk7XG5cdFx0XHRcdGF3YWl0IGxlYWYub3BlbkZpbGUocmVzdWx0LmZpbGUpO1xuXG5cdFx0XHRcdC8vIE5hdmlnYXRlIHRvIHRoZSBibG9ja1xuXHRcdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoXG5cdFx0XHRcdFx0cmVxdWlyZSgnb2JzaWRpYW4nKS5NYXJrZG93blZpZXdcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHZpZXcpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcblx0XHRcdFx0XHRlZGl0b3Iuc2V0Q3Vyc29yKHtsaW5lOiByZXN1bHQubGluZSwgY2g6IDB9KTtcblx0XHRcdFx0XHRlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoXG5cdFx0XHRcdFx0XHR7ZnJvbToge2xpbmU6IHJlc3VsdC5saW5lLCBjaDogMH0sIHRvOiB7bGluZTogcmVzdWx0LmxpbmUsIGNoOiAwfX0sXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHByb3BzID0gaXRlbS5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRjbHM6ICdibG9jay1wcm9wZXJ0aWVzLXJlc3VsdC1wcm9wcycsXG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yIChjb25zdCBwIG9mIHJlc3VsdC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGNvbnN0IGlzTWF0Y2ggPVxuXHRcdFx0XHRcdHAua2V5ID09PSB0aGlzLnF1ZXJ5LmtleSAmJlxuXHRcdFx0XHRcdCghdGhpcy5xdWVyeS52YWx1ZSB8fCBwLnZhbHVlID09PSB0aGlzLnF1ZXJ5LnZhbHVlKTtcblxuXHRcdFx0XHRwcm9wcy5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0XHR0ZXh0OiBgJHtwLmtleX06ICR7cC52YWx1ZX1gLFxuXHRcdFx0XHRcdGNsczogYGJsb2NrLXByb3BlcnRpZXMtcmVzdWx0LXByb3AgJHtpc01hdGNoID8gJ2lzLW1hdGNoJyA6ICcnfWAsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocmVzdWx0LmNvbnRleHQpIHtcblx0XHRcdFx0aXRlbS5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdHRleHQ6IHJlc3VsdC5jb250ZXh0LFxuXHRcdFx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtcmVzdWx0LWNvbnRleHQnLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoQmxvY2tQcm9wZXJ0aWVzKFxuXHRhcHA6IEFwcCxcblx0a2V5OiBzdHJpbmcsXG5cdHZhbHVlPzogc3RyaW5nXG4pOiBQcm9taXNlPFF1ZXJ5UmVzdWx0W10+IHtcblx0Y29uc3QgcmVzdWx0czogUXVlcnlSZXN1bHRbXSA9IFtdO1xuXHRjb25zdCBmaWxlcyA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cblx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IGFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cblx0XHRsZXQgbGluZU9mZnNldCA9IDA7XG5cdFx0Zm9yIChsZXQgbGluZU51bSA9IDA7IGxpbmVOdW0gPCBsaW5lcy5sZW5ndGg7IGxpbmVOdW0rKykge1xuXHRcdFx0Y29uc3QgbGluZSA9IGxpbmVzW2xpbmVOdW1dO1xuXHRcdFx0Y29uc3QgYmxvY2tQcm9wcyA9IHBhcnNlQmxvY2tQcm9wZXJ0aWVzKGxpbmUpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IHByb3Agb2YgYmxvY2tQcm9wcykge1xuXHRcdFx0XHQvLyBDaGVjayBpZiBhbnkgcHJvcGVydHkgbWF0Y2hlcyB0aGUgcXVlcnlcblx0XHRcdFx0Y29uc3QgbWF0Y2hpbmdQcm9wID0gcHJvcC5wcm9wZXJ0aWVzLmZpbmQoXG5cdFx0XHRcdFx0KHApID0+IHAua2V5ID09PSBrZXkgJiYgKCF2YWx1ZSB8fCBwLnZhbHVlID09PSB2YWx1ZSlcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAobWF0Y2hpbmdQcm9wKSB7XG5cdFx0XHRcdFx0cmVzdWx0cy5wdXNoKHtcblx0XHRcdFx0XHRcdGZpbGUsXG5cdFx0XHRcdFx0XHRsaW5lOiBsaW5lTnVtLFxuXHRcdFx0XHRcdFx0YmxvY2tJZDogcHJvcC5ibG9ja0lkLFxuXHRcdFx0XHRcdFx0cHJvcGVydGllczogcHJvcC5wcm9wZXJ0aWVzLFxuXHRcdFx0XHRcdFx0Y29udGV4dDogbGluZS5zbGljZSgwLCBwcm9wLmZyb20pLnRyaW0oKS5zbGljZSgwLCA2MCksXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bGluZU9mZnNldCArPSBsaW5lLmxlbmd0aCArIDE7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdHM7XG59XG4iLCAiaW1wb3J0IHtBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmd9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIEJsb2NrUHJvcGVydGllc1BsdWdpbiBmcm9tICcuL21haW4nO1xuaW1wb3J0IHR5cGUge0Rpc3BsYXlNb2RlfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEJsb2NrUHJvcGVydGllc1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBCbG9ja1Byb3BlcnRpZXNQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQmxvY2tQcm9wZXJ0aWVzUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdCbG9jayBQcm9wZXJ0aWVzIFNldHRpbmdzJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGlzcGxheSBtb2RlJylcblx0XHRcdC5zZXREZXNjKCdIb3cgdG8gZGlzcGxheSBibG9jayBwcm9wZXJ0aWVzIGluIHRoZSBlZGl0b3InKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cblx0XHRcdFx0ZHJvcGRvd25cblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdpbmxpbmUnLCAnSW5saW5lIChkaW1tZWQgdGV4dCknKVxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2JhZGdlJywgJ0JhZGdlIChjb21wYWN0IGljb24pJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheU1vZGUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogRGlzcGxheU1vZGUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BsYXlNb2RlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hFZGl0b3JFeHRlbnNpb24oKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1Byb3BlcnR5IGNvbG9yJylcblx0XHRcdC5zZXREZXNjKCdDb2xvciB1c2VkIHRvIGRpc3BsYXkgYmxvY2sgcHJvcGVydGllcycpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignIzg4ODg4OCcpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5Q29sb3IpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlDb2xvciA9IHZhbHVlIHx8ICcjODg4ODg4Jztcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4udXBkYXRlU3R5bGVzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdPcGFjaXR5Jylcblx0XHRcdC5zZXREZXNjKCdPcGFjaXR5IG9mIGJsb2NrIHByb3BlcnRpZXMgKDAuMSAtIDEuMCknKVxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDAuMSwgMS4wLCAwLjEpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wYWNpdHkpXG5cdFx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGFjaXR5ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZVN0eWxlcygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtcblx0RWRpdG9yLFxuXHRFZGl0b3JQb3NpdGlvbixcblx0RWRpdG9yU3VnZ2VzdCxcblx0RWRpdG9yU3VnZ2VzdENvbnRleHQsXG5cdEVkaXRvclN1Z2dlc3RUcmlnZ2VySW5mbyxcblx0VEZpbGUsXG59IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIEJsb2NrUHJvcGVydGllc1BsdWdpbiBmcm9tICcuL21haW4nO1xuaW1wb3J0IHtwYXJzZUJsb2NrUHJvcGVydGllc30gZnJvbSAnLi9wYXJzZXInO1xuXG5pbnRlcmZhY2UgU3VnZ2VzdGlvbiB7XG5cdHR5cGU6ICdrZXknIHwgJ3ZhbHVlJztcblx0dGV4dDogc3RyaW5nO1xuXHRjb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgQmxvY2tQcm9wZXJ0aWVzU3VnZ2VzdCBleHRlbmRzIEVkaXRvclN1Z2dlc3Q8U3VnZ2VzdGlvbj4ge1xuXHRwbHVnaW46IEJsb2NrUHJvcGVydGllc1BsdWdpbjtcblx0cHJpdmF0ZSBjYWNoZWRLZXlzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXHRwcml2YXRlIGNhY2hlZFZhbHVlczogTWFwPHN0cmluZywgTWFwPHN0cmluZywgbnVtYmVyPj4gPSBuZXcgTWFwKCk7XG5cdHByaXZhdGUgbGFzdENhY2hlVXBkYXRlID0gMDtcblx0cHJpdmF0ZSByZWFkb25seSBDQUNIRV9UVEwgPSAzMDAwMDsgLy8gMzAgc2Vjb25kc1xuXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogQmxvY2tQcm9wZXJ0aWVzUGx1Z2luKSB7XG5cdFx0c3VwZXIocGx1Z2luLmFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRvblRyaWdnZXIoXG5cdFx0Y3Vyc29yOiBFZGl0b3JQb3NpdGlvbixcblx0XHRlZGl0b3I6IEVkaXRvcixcblx0XHRmaWxlOiBURmlsZSB8IG51bGxcblx0KTogRWRpdG9yU3VnZ2VzdFRyaWdnZXJJbmZvIHwgbnVsbCB7XG5cdFx0Y29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIGluc2lkZSBhIGJsb2NrIHByb3BlcnR5IGJyYWNrZXQgWy4uLl1cblx0XHRjb25zdCBiZWZvcmVDdXJzb3IgPSBsaW5lLnNsaWNlKDAsIGN1cnNvci5jaCk7XG5cdFx0Y29uc3QgYWZ0ZXJDdXJzb3IgPSBsaW5lLnNsaWNlKGN1cnNvci5jaCk7XG5cblx0XHQvLyBGaW5kIHRoZSBsYXN0IFsgYmVmb3JlIGN1cnNvclxuXHRcdGNvbnN0IGJyYWNrZXRTdGFydCA9IGJlZm9yZUN1cnNvci5sYXN0SW5kZXhPZignWycpO1xuXHRcdGlmIChicmFja2V0U3RhcnQgPT09IC0xKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGVyZSdzIG5vIF0gYmV0d2VlbiBbIGFuZCBjdXJzb3Jcblx0XHRjb25zdCB0ZXh0SW5CcmFja2V0ID0gYmVmb3JlQ3Vyc29yLnNsaWNlKGJyYWNrZXRTdGFydCArIDEpO1xuXHRcdGlmICh0ZXh0SW5CcmFja2V0LmluY2x1ZGVzKCddJykpIHJldHVybiBudWxsO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoaXMgaXMgYSBibG9jayBwcm9wZXJ0eSAoaGFzIF5pZCBiZWZvcmUgWylcblx0XHRjb25zdCBiZWZvcmVCcmFja2V0ID0gbGluZS5zbGljZSgwLCBicmFja2V0U3RhcnQpO1xuXHRcdGlmICghYmVmb3JlQnJhY2tldC5tYXRjaCgvXFxeW1xcdy1dK1xccyokLykpIHJldHVybiBudWxsO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHdlJ3JlIHR5cGluZyBhIGtleSBvciB2YWx1ZVxuXHRcdGNvbnN0IGxhc3RDb21tYSA9IHRleHRJbkJyYWNrZXQubGFzdEluZGV4T2YoJywnKTtcblx0XHRjb25zdCBsYXN0Q29sb24gPSB0ZXh0SW5CcmFja2V0Lmxhc3RJbmRleE9mKCc6Jyk7XG5cblx0XHRsZXQgc3RhcnQ6IG51bWJlcjtcblx0XHRsZXQgcXVlcnk6IHN0cmluZztcblxuXHRcdGlmIChsYXN0Q29sb24gPiBsYXN0Q29tbWEpIHtcblx0XHRcdC8vIFdlJ3JlIHR5cGluZyBhIHZhbHVlIChhZnRlciBjb2xvbilcblx0XHRcdHN0YXJ0ID0gYnJhY2tldFN0YXJ0ICsgMSArIGxhc3RDb2xvbiArIDE7XG5cdFx0XHRxdWVyeSA9IHRleHRJbkJyYWNrZXQuc2xpY2UobGFzdENvbG9uICsgMSkudHJpbSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBXZSdyZSB0eXBpbmcgYSBrZXkgKGFmdGVyIGNvbW1hIG9yIGF0IHN0YXJ0KVxuXHRcdFx0c3RhcnQgPSBicmFja2V0U3RhcnQgKyAxICsgKGxhc3RDb21tYSA9PT0gLTEgPyAwIDogbGFzdENvbW1hICsgMSk7XG5cdFx0XHRxdWVyeSA9IGxhc3RDb21tYSA9PT0gLTFcblx0XHRcdFx0PyB0ZXh0SW5CcmFja2V0LnRyaW0oKVxuXHRcdFx0XHQ6IHRleHRJbkJyYWNrZXQuc2xpY2UobGFzdENvbW1hICsgMSkudHJpbSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdGFydDoge2xpbmU6IGN1cnNvci5saW5lLCBjaDogc3RhcnR9LFxuXHRcdFx0ZW5kOiBjdXJzb3IsXG5cdFx0XHRxdWVyeSxcblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgZ2V0U3VnZ2VzdGlvbnMoY29udGV4dDogRWRpdG9yU3VnZ2VzdENvbnRleHQpOiBQcm9taXNlPFN1Z2dlc3Rpb25bXT4ge1xuXHRcdGF3YWl0IHRoaXMudXBkYXRlQ2FjaGUoKTtcblxuXHRcdGNvbnN0IGxpbmUgPSBjb250ZXh0LmVkaXRvci5nZXRMaW5lKGNvbnRleHQuc3RhcnQubGluZSk7XG5cdFx0Y29uc3QgYmVmb3JlQ3Vyc29yID0gbGluZS5zbGljZSgwLCBjb250ZXh0LmVuZC5jaCk7XG5cdFx0Y29uc3QgYnJhY2tldFN0YXJ0ID0gYmVmb3JlQ3Vyc29yLmxhc3RJbmRleE9mKCdbJyk7XG5cdFx0Y29uc3QgdGV4dEluQnJhY2tldCA9IGJlZm9yZUN1cnNvci5zbGljZShicmFja2V0U3RhcnQgKyAxKTtcblxuXHRcdGNvbnN0IGxhc3RDb21tYSA9IHRleHRJbkJyYWNrZXQubGFzdEluZGV4T2YoJywnKTtcblx0XHRjb25zdCBsYXN0Q29sb24gPSB0ZXh0SW5CcmFja2V0Lmxhc3RJbmRleE9mKCc6Jyk7XG5cblx0XHRjb25zdCBxdWVyeSA9IGNvbnRleHQucXVlcnkudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmIChsYXN0Q29sb24gPiBsYXN0Q29tbWEpIHtcblx0XHRcdC8vIFN1Z2dlc3QgdmFsdWVzIGZvciB0aGUgY3VycmVudCBrZXlcblx0XHRcdGNvbnN0IGtleVN0YXJ0ID0gbGFzdENvbW1hID09PSAtMSA/IDAgOiBsYXN0Q29tbWEgKyAxO1xuXHRcdFx0Y29uc3QgY3VycmVudEtleSA9IHRleHRJbkJyYWNrZXQuc2xpY2Uoa2V5U3RhcnQsIGxhc3RDb2xvbikudHJpbSgpO1xuXG5cdFx0XHRjb25zdCB2YWx1ZXMgPSB0aGlzLmNhY2hlZFZhbHVlcy5nZXQoY3VycmVudEtleSkgfHwgbmV3IE1hcCgpO1xuXHRcdFx0cmV0dXJuIEFycmF5LmZyb20odmFsdWVzLmVudHJpZXMoKSlcblx0XHRcdFx0LmZpbHRlcigoW3ZhbHVlXSkgPT4gdmFsdWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpXG5cdFx0XHRcdC5tYXAoKFt0ZXh0LCBjb3VudF0pID0+ICh7dHlwZTogJ3ZhbHVlJyBhcyBjb25zdCwgdGV4dCwgY291bnR9KSlcblx0XHRcdFx0LnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuXHRcdFx0XHQuc2xpY2UoMCwgMTApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBTdWdnZXN0IGtleXNcblx0XHRcdHJldHVybiBBcnJheS5mcm9tKHRoaXMuY2FjaGVkS2V5cy5lbnRyaWVzKCkpXG5cdFx0XHRcdC5maWx0ZXIoKFtrZXldKSA9PiBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpXG5cdFx0XHRcdC5tYXAoKFt0ZXh0LCBjb3VudF0pID0+ICh7dHlwZTogJ2tleScgYXMgY29uc3QsIHRleHQsIGNvdW50fSkpXG5cdFx0XHRcdC5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcblx0XHRcdFx0LnNsaWNlKDAsIDEwKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJTdWdnZXN0aW9uKHN1Z2dlc3Rpb246IFN1Z2dlc3Rpb24sIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGVsLmFkZENsYXNzKCdibG9jay1wcm9wZXJ0aWVzLXN1Z2dlc3Rpb24nKTtcblxuXHRcdGNvbnN0IHRleHQgPSBlbC5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdHRleHQ6IHN1Z2dlc3Rpb24udGV4dCxcblx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtc3VnZ2VzdGlvbi10ZXh0Jyxcblx0XHR9KTtcblxuXHRcdGNvbnN0IG1ldGEgPSBlbC5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtc3VnZ2VzdGlvbi1tZXRhJyxcblx0XHR9KTtcblxuXHRcdG1ldGEuY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHR0ZXh0OiBzdWdnZXN0aW9uLnR5cGUgPT09ICdrZXknID8gJ2tleScgOiAndmFsdWUnLFxuXHRcdFx0Y2xzOiAnYmxvY2stcHJvcGVydGllcy1zdWdnZXN0aW9uLXR5cGUnLFxuXHRcdH0pO1xuXG5cdFx0bWV0YS5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdHRleHQ6IGAke3N1Z2dlc3Rpb24uY291bnR9YCxcblx0XHRcdGNsczogJ2Jsb2NrLXByb3BlcnRpZXMtc3VnZ2VzdGlvbi1jb3VudCcsXG5cdFx0fSk7XG5cdH1cblxuXHRzZWxlY3RTdWdnZXN0aW9uKHN1Z2dlc3Rpb246IFN1Z2dlc3Rpb24sIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY29udGV4dCkgcmV0dXJuO1xuXG5cdFx0Y29uc3Qge2VkaXRvciwgc3RhcnQsIGVuZH0gPSB0aGlzLmNvbnRleHQ7XG5cblx0XHRsZXQgcmVwbGFjZW1lbnQgPSBzdWdnZXN0aW9uLnRleHQ7XG5cblx0XHRpZiAoc3VnZ2VzdGlvbi50eXBlID09PSAna2V5Jykge1xuXHRcdFx0cmVwbGFjZW1lbnQgPSBzdWdnZXN0aW9uLnRleHQgKyAnOiAnO1xuXHRcdH1cblxuXHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UocmVwbGFjZW1lbnQsIHN0YXJ0LCBlbmQpO1xuXG5cdFx0Ly8gTW92ZSBjdXJzb3IgYWZ0ZXIgdGhlIHJlcGxhY2VtZW50XG5cdFx0Y29uc3QgbmV3Q2ggPSBzdGFydC5jaCArIHJlcGxhY2VtZW50Lmxlbmd0aDtcblx0XHRlZGl0b3Iuc2V0Q3Vyc29yKHtsaW5lOiBzdGFydC5saW5lLCBjaDogbmV3Q2h9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlQ2FjaGUoKSB7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRpZiAobm93IC0gdGhpcy5sYXN0Q2FjaGVVcGRhdGUgPCB0aGlzLkNBQ0hFX1RUTCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuY2FjaGVkS2V5cy5jbGVhcigpO1xuXHRcdHRoaXMuY2FjaGVkVmFsdWVzLmNsZWFyKCk7XG5cblx0XHRjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblxuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcHJvcHMgPSBwYXJzZUJsb2NrUHJvcGVydGllcyhsaW5lKTtcblxuXHRcdFx0XHRcdGZvciAoY29uc3QgcHJvcCBvZiBwcm9wcykge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwIG9mIHByb3AucHJvcGVydGllcykge1xuXHRcdFx0XHRcdFx0XHQvLyBDb3VudCBrZXlzXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FjaGVkS2V5cy5zZXQoXG5cdFx0XHRcdFx0XHRcdFx0cC5rZXksXG5cdFx0XHRcdFx0XHRcdFx0KHRoaXMuY2FjaGVkS2V5cy5nZXQocC5rZXkpIHx8IDApICsgMVxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIENvdW50IHZhbHVlcyBwZXIga2V5XG5cdFx0XHRcdFx0XHRcdGlmICghdGhpcy5jYWNoZWRWYWx1ZXMuaGFzKHAua2V5KSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY2FjaGVkVmFsdWVzLnNldChwLmtleSwgbmV3IE1hcCgpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjb25zdCB2YWx1ZU1hcCA9IHRoaXMuY2FjaGVkVmFsdWVzLmdldChwLmtleSkhO1xuXHRcdFx0XHRcdFx0XHR2YWx1ZU1hcC5zZXQocC52YWx1ZSwgKHZhbHVlTWFwLmdldChwLnZhbHVlKSB8fCAwKSArIDEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIFNraXAgZmlsZXMgdGhhdCBjYW4ndCBiZSByZWFkXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5sYXN0Q2FjaGVVcGRhdGUgPSBub3c7XG5cdH1cbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIEJsb2NrUHJvcGVydHkge1xuXHRrZXk6IHN0cmluZztcblx0dmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbG9ja1Byb3BlcnRpZXMge1xuXHRibG9ja0lkOiBzdHJpbmc7XG5cdHByb3BlcnRpZXM6IEJsb2NrUHJvcGVydHlbXTtcblx0ZnJvbTogbnVtYmVyO1xuXHR0bzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBEaXNwbGF5TW9kZSA9ICdpbmxpbmUnIHwgJ2JhZGdlJztcblxuZXhwb3J0IGludGVyZmFjZSBCbG9ja1Byb3BlcnRpZXNTZXR0aW5ncyB7XG5cdGRpc3BsYXlNb2RlOiBEaXNwbGF5TW9kZTtcblx0cHJvcGVydHlDb2xvcjogc3RyaW5nO1xuXHRvcGFjaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBCbG9ja1Byb3BlcnRpZXNTZXR0aW5ncyA9IHtcblx0ZGlzcGxheU1vZGU6ICdpbmxpbmUnLFxuXHRwcm9wZXJ0eUNvbG9yOiAnIzg4ODg4OCcsXG5cdG9wYWNpdHk6IDAuNixcbn07XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQStGOzs7QUNBL0YsbUJBQThCO0FBQzlCLGtCQVVPOzs7QUNOUCxJQUFNLG9CQUFvQjtBQUVuQixTQUFTLHFCQUFxQixNQUFjLFNBQVMsR0FBc0I7QUFDakYsUUFBTSxVQUE2QixDQUFDO0FBQ3BDLE1BQUk7QUFHSixvQkFBa0IsWUFBWTtBQUU5QixVQUFRLFFBQVEsa0JBQWtCLEtBQUssSUFBSSxPQUFPLE1BQU07QUFDdkQsVUFBTSxVQUFVLE1BQU0sQ0FBQztBQUN2QixVQUFNLGNB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QUFZLElBQUk7QUFBQSxJQUN0QjtBQUVBLFlBQVEsWUFBWSxJQUFJO0FBR3hCLFVBQU0sT0FBTyxPQUFPLHNCQUFzQjtBQUMxQyxZQUFRLE1BQU0sV0FBVztBQUN6QixZQUFRLE1BQU0sT0FBTyxHQUFHLEtBQUssSUFBSTtBQUNqQyxZQUFRLE1BQU0sTUFBTSxHQUFHLEtBQUssTUFBTSxDQUFDO0FBQ25DLFlBQVEsTUFBTSxZQUFZO0FBQzFCLFlBQVEsTUFBTSxTQUFTO0FBRXZCLGFBQVMsS0FBSyxZQUFZLE9BQU87QUFDakMsU0FBSyxpQkFBaUI7QUFBQSxFQUN2QjtBQUFBLEVBRVEscUJBQXFCO0FBQzVCLFFBQUksS0FBSyxnQkFBZ0I7QUFDeEIsV0FBSyxlQUFlLE9BQU87QUFDM0IsV0FBSyxpQkFBaUI7QUFBQSxJQUN2QjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFdBQVc7QUFDVixRQUFJLEtBQUssU0FBUztBQUNqQixXQUFLLFFBQVEsT0FBTztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPO0FBQUEsTUFDdEIsQ0FBQztBQUFBLE1BQ0Q7QUFBQSxNQUNBLE1BQU0sS0FBSyxTQUFTO0FBQUEsSUFDckI7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFBQSxFQUVBLGVBQWU7QUFDZCxRQUFJLENBQUMsS0FBSyxTQUFTO0FBQ2xCLFdBQUssVUFBVSxTQUFTLGNBQWMsT0FBTztBQUM3QyxXQUFLLFFBQVEsS0FBSztBQUNsQixlQUFTLEtBQUssWUFBWSxLQUFLLE9BQU87QUFBQSxJQUN2QztBQUVBLFNBQUssUUFBUSxjQUFjO0FBQUE7QUFBQSxhQUVoQixLQUFLLFNBQVMsYUFBYTtBQUFBLGVBQ3pCLEtBQUssU0FBUyxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJbkM7QUFBQSxFQUVBLHlCQUF5QjtBQUV4QixVQUFNLGVBQWUsK0JBQStCLEtBQUssU0FBUyxXQUFXO0FBQzdFLFNBQUssZ0JBQWdCLFNBQVM7QUFDOUIsU0FBSyxnQkFBZ0IsS0FBSyxHQUFHLFlBQVk7QUFHekMsU0FBSyxJQUFJLFVBQVUsY0FBYztBQUFBLEVBQ2xDO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJub2RlIl0KfQo=
